!function(t){function e(i){if(s[i])return s[i].exports;var n=s[i]={i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var s={};e.m=t,e.c=s,e.d=function(t,s,i){e.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,s){if(1&s&&(t=e(t)),8&s)return t;if(4&s&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var n in t)e.d(i,n,function(e){return t[e]}.bind(null,n));return i},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e){Object.defineProperty(e,"__esModule",{value:!0});class s{static distance(t,e){const s=t.x-e.x,i=t.y-e.y;return Math.sqrt(s*s+i*i)}static distanceSquared(t,e){const s=t.x-e.x,i=t.y-e.y;return s*s+i*i}static angleBetween(t,e){return Math.atan2(t.x*e.y-t.y*e.x,t.x*e.x+t.y*e.y)}static scalarProjection(t,e){return s.dot(t,s.normal(e))}static projection(t,e){const i=(t.x*e.x+t.y*e.y)/(e.x*e.x+e.y*e.y);return new s(e.x*i,e.y*i)}static reflectionAboutLineNormalAngle(t,e){const i=Math.cos(e),n=Math.sin(e),r=2*(t.x*i+t.y*n);return new s(t.x-r*i,t.y-r*n)}static add(t,e){return new s(t.x+e.x,t.y+e.y)}static subtract(t,e){return new s(t.x-e.x,t.y-e.y)}static scale(t,e){return new s(t.x*e,t.y*e)}static divide(t,e){return new s(t.x/e,t.y/e)}static negated(t){return new s(-t.x,-t.y)}static normal(t){const e=t.copy();return e.normalize(),e}static dot(t,e){return t.x*e.x+t.y*e.y}static rotated(t,e){const s=t.copy();return t.rotateBy(e),s}static clampedToRectangle(t,e,i){const n=Math.min(e.x,i.x),r=Math.min(e.y,i.y),a=Math.max(e.x,i.x),o=Math.max(e.y,i.y);return new s(Math.max(Math.min(t.x,a),n),Math.max(Math.min(t.y,o),r))}static zero(){return new s(0,0)}static createAngleLength(t,e){return new s(Math.cos(t)*e,Math.sin(t)*e)}static createUnit(t){return new s(Math.cos(t),Math.sin(t))}static createRandomUnit(){const t=Math.random()*Math.PI*2;return s.createUnit(t)}static lerp(t,e,i){return new s(i*e.x+(1-i)*t.x,i*e.y+(1-i)*t.y)}static fromArray(t){return new s(t[0],t[1])}constructor(t,e){this.x=t,this.y=e}copy(){return new s(this.x,this.y)}equals(t){return this.x===t.x&&this.y===t.y}equalsEpsilon(t,e){return s.distanceSquared(this,t)<=e*e}ix(){return Math.floor(this.x)}iy(){return Math.floor(this.y)}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}lengthSquared(){return this.x*this.x+this.y*this.y}angle(){return Math.atan2(this.y,this.x)}set(t){this.x=t.x,this.y=t.y}setAngleLength(t,e){this.x=Math.cos(t)*e,this.y=Math.sin(t)*e}setUnit(t){this.x=Math.cos(t),this.y=Math.sin(t)}addBy(t){this.x+=t.x,this.y+=t.y}subtractBy(t){this.x-=t.x,this.y-=t.y}scaleBy(t){this.x*=t,this.y*=t}divideBy(t){this.x/=t,this.y/=t}negate(){this.x=-this.x,this.y=-this.y}normalize(){const t=this.length();this.divideBy(t)}rotateBy(t){const e=Math.cos(t),s=Math.sin(t),i=e*this.x-s*this.y;this.y=s*this.x+e*this.y,this.x=i}rotateClockwise90(){const t=this.x;this.x=this.y,this.y=-t}rotateCounterclockwise90(){const t=this.x;this.x=-this.y,this.y=t}extend(t){const e=t/this.length();this.x+=this.x*e,this.y+=this.y*e}setAngle(t){const e=this.length();this.x=e*Math.cos(t),this.y=e*Math.cos(t)}setLength(t){const e=t/this.length();this.x*=e,this.y*=e}toArray(){return[this.x,this.y]}toString(){return"("+this.x+", "+this.y+")"}toStringFixed(t){return"("+this.x.toFixed(t)+", "+this.y.toFixed(t)+")"}}e.Vec2=s},function(t,e,s){Object.defineProperty(e,"__esModule",{value:!0});const i=s(5),n=s(10),r=s(13),a=s(14),o=s(0),h=s(15),c=s(2),l=new h.Timer;e.state=new class{constructor(){this.draw=new r.Draw(document.querySelector("canvas")),this.input=new a.Input}};const u=new c.World;l.subscribe(function(t){e.state.draw.clear(),e.state.input.processEvents(),e.state.draw.context.textAlign="left",e.state.draw.text(`Hello There! ${Math.round(t)}`,new o.Vec2(20,e.state.draw.canvas.height-20)),e.state.draw.text(`Press ${i.fireKey} to fire your laser!`,new o.Vec2(e.state.draw.canvas.width-150,e.state.draw.canvas.height-20)),e.state.draw.text(`Press ${n.musicStopKey} to stop music!`,new o.Vec2(e.state.draw.canvas.width-150,e.state.draw.canvas.height-40)),e.state.draw.text(`Press ${n.musicStartKey} to play music!`,new o.Vec2(e.state.draw.canvas.width-150,e.state.draw.canvas.height-60)),u.update(t/h.aSecondInMs),u.render(),window.requestAnimationFrame(l.update)}),l.subscribe(n.playMusic),e.state.input.registerKeyDownHandler(i.fireKey,i.fireLaser),window.requestAnimationFrame(l.update)},function(t,e,s){Object.defineProperty(e,"__esModule",{value:!0});const i=s(7),n=s(17),r=s(8),a=s(3),o=s(4),h=s(0),c=s(1),l=s(18),u=s(19),d=s(9),y=s(20);class p{constructor(){this.prevTime=1/0,this.updateTimePool=0,this.physics=new u.Physics,this.entities=[],this.player=new y.Player,this.camera=new n.Camera,this.entities.push(this.player.entity),this.initializeLevel()}initializeLevel(){const t=t=>new d.Entity(t,h.Vec2.zero(),new r.CircleDrawable(10,"red"));this.entities.push(t(new h.Vec2(300,400))),this.entities.push(t(new h.Vec2(360,460))),this.entities.push(t(new h.Vec2(100,250))),this.entities.push(t(new h.Vec2(500,150)));const e=new d.Entity(new h.Vec2(400,150),h.Vec2.zero(),new r.CircleDrawable(5,"black"));this.entities.push(e),this.physics.addBody(new u.Body(new l.CircleCollidable(e.position,5),{damageSupplier:{damageYou:t=>{t.damageMe(1)}}}));const s={damageConsumer:{damageMe:t=>{t>=1&&this.player.die()}}};this.physics.addBody(new u.Body(new l.CircleCollidable(this.player.entity.position,y.Player.playerWidth),s));const n=new a.Sprite(i.spriteSheet,new o.Rectangle(16,16,32,16));this.entities.push(new d.Entity(new h.Vec2(100,100),h.Vec2.zero(),new r.SpriteDrawable(n,64)))}update(t){if(this.prevTime!==1/0){for(this.updateTimePool+=Math.min(t-this.prevTime,p.MAX_UPDATE_TIME);this.updateTimePool>=0;)this.updateTimePool-=p.TICK_DELTA,this.tick();this.prevTime=t}else this.prevTime=t}render(){this.camera.center=this.player.entity.position,this.camera.apply(),this.entities.forEach(t=>{t.render()})}tick(){this.handleCameraInput(),this.player.update(),this.entities.forEach(t=>{t.update()}),this.physics.update()}handleCameraInput(){const{isPressed:t}=c.state.input;t("=")&&this.camera.updateZoom(!0),t("-")&&this.camera.updateZoom(!1),t("]")&&this.camera.updateRotation(!0),t("[")&&this.camera.updateRotation(!1)}}p.TICK_DELTA=1/180,p.MAX_UPDATE_TIME=.25,e.World=p},function(t,e,s){Object.defineProperty(e,"__esModule",{value:!0});const i=s(1),n=s(4);e.Sprite=class{constructor(t,e){this.spriteSheet=t,this.sourceRect=e}render(t,e){this.spriteSheet.render(new n.Rectangle(e,e,t.x-e/2,t.y-e/2),this.sourceRect)}},e.SpriteSheet=class{constructor(t){this.isLoaded=!1,this.image=new Image,this.image.onload=(()=>this.isLoaded=!0),this.image.src=t}render(t,e){this.isLoaded&&(i.state.draw.context.imageSmoothingEnabled=!1,i.state.draw.context.drawImage(this.image,e.left,e.top,e.width,e.height,t.left,t.top,t.width,t.height))}}},function(t,e,s){Object.defineProperty(e,"__esModule",{value:!0});const i=s(0);e.Rectangle=class{constructor(t,e,s,i){this.width=t,this.height=e,this.left=s,this.top=i}get bottom(){return this.top+this.height}get bottomLeft(){return new i.Vec2(this.left,this.bottom)}get bottomRight(){return new i.Vec2(this.right,this.bottom)}get topLeft(){return new i.Vec2(this.left,this.top)}get topRight(){return new i.Vec2(this.right,this.top)}get right(){return this.left+this.width}intersects(t){return this.left<=t.left+t.width&&t.left<=this.left+this.width&&this.top<=t.top+t.height&&t.top<=this.top+this.height}},e.random=function(t,e){let s=t;return e||(e=t,s=0),Math.floor(Math.random()*Math.floor(e))+s}},function(t,e,s){Object.defineProperty(e,"__esModule",{value:!0});const i=s(6);class n{constructor(t=1,e=["sawtooth"],s=[.0015],n=[.15],r=[642],a=[""],o=1,h=1){this.numOsc=t,this.ltype=e,this.gainC=s,this.freqC=n,this.freq=r,this.keys=a,this.vol=o,this.dur=h,this.ons=[],this.wn=i.audioContext.createWaveShaper(),this.gn=i.audioContext.createGain(),this.ad=i.audioContext.destination,this.keysDown={"":!1};for(let t=0;t<this.numOsc;t++)this.ons[t]=i.audioContext.createOscillator(),this.ons[t].frequency.value=void 0===r[t]?0:r[t],this.ons[t].type=void 0===e[t]?"sawtooth":e[t],this.ons[t].start(),this.ons[t].connect(this.wn);this.gn.gain.setValueAtTime(0,i.audioContext.currentTime),this.wn.connect(this.gn),this.gn.connect(this.ad)}playSheet(t,e=0,s=i.audioContext.currentTime){const n=Array(t.nreg()).fill(s+e);Object.keys(t.registers).forEach((e,s)=>{t.registers[+e].forEach(e=>{const i=e.freq(),r=e.duration(t.tempo);this.ons[s].frequency.setTargetAtTime(i<=0?0:i,n[s],t.freqConst()),this.gn.gain.setTargetAtTime(i<=0?0:e.vol,n[s],t.gainConst()),n[s]+=r,this.gn.gain.setTargetAtTime(0,n[s]-r*e.sPct,t.gainConst()),this.ons[s].frequency.setTargetAtTime(0,n[s]-r*e.sPct,t.freqConst())})})}play(){this.gn.connect(this.ad)}stop(t){this.gn.disconnect(this.ad),this.gn.gain.cancelScheduledValues(t),this.gn.gain.setValueAtTime(0,t),this.ons.forEach(e=>{e.frequency.cancelScheduledValues(t),e.frequency.setValueAtTime(0,t)})}}e.GameSound=n,e.fireKey="P";const r=new n(3,["sine","square","sawtooth"],Array(3).fill(.08),Array(3).fill(.1),[642,1284,321],[e.fireKey],.5,.08);e.fireLaser=function(){const t=i.audioContext.currentTime;r.ons.forEach((e,s)=>{r.gn.gain.setValueAtTime(r.vol,t),e.frequency.setValueAtTime(r.freq[s],t),r.gn.gain.setTargetAtTime(0,t+r.dur,r.gainC[s]),e.frequency.setTargetAtTime(0,t+r.dur,r.freqC[s])})}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.audioContext=new AudioContext},function(t,e,s){Object.defineProperty(e,"__esModule",{value:!0});const i=s(3),n=s(16);e.spriteSheet=new i.SpriteSheet(n)},function(t,e,s){Object.defineProperty(e,"__esModule",{value:!0});const i=s(1);e.CircleDrawable=class{constructor(t,e){this.radius=t,this.style=e}render(t){i.state.draw.context.fillStyle=this.style,i.state.draw.circle(t,this.radius)}},e.SpriteDrawable=class{constructor(t,e){this.sprite=t,this.width=e}render(t){this.sprite.render(t,this.width)}}},function(t,e,s){Object.defineProperty(e,"__esModule",{value:!0});const i=s(0),n=s(2);e.Entity=class{constructor(t,e,s){this.drawable=s,this.position=t.copy(),this.velocity=e.copy()}update(){this.position.addBy(i.Vec2.scale(this.velocity,n.World.TICK_DELTA))}render(){this.drawable.render(this.position)}}},function(t,e,s){Object.defineProperty(e,"__esModule",{value:!0});const i=s(1),n=s(6),r=s(11),a=s(5);e.musicStartKey="M",e.musicStopKey="N";class o{constructor(t,e,s,i=!0,n=0,r=!1){this.ins=t,this.shts=e,this.parts=s,this.loops=i,this.startTime=n,this.isPlaying=r}dur(){let t=0;return Object.keys(this.parts).forEach(e=>{let s=0;this.parts[+e].forEach(t=>{s+=this.shts[t].duration()}),t=s>t?s:t}),t}play(t){if(!this.isPlaying){this.isPlaying=!0,this.startTime=t;let e=0;Object.keys(this.parts).forEach(t=>{let s;this.parts[+t].forEach((i,n)=>{0===n?e=0:e+=this.shts[s].duration(),s=i,this.ins[+t].playSheet(this.shts[+i],e,this.startTime)})}),Object.keys(this.ins).forEach(t=>{this.ins[+t].play()})}t>=this.startTime+this.dur()&&(this.isPlaying=!1,this.loops&&(this.startTime=t,this.play(t)))}stop(t){this.isPlaying&&(this.isPlaying=!1,Object.keys(this.ins).forEach(e=>{this.ins[+e].stop(t)}))}}e.Conductor=o;const h=r.str2Sheet("0: B ,4,e | D ,5,e | A ,5,e | G#,5,e | E ,5,e | F#,5,e | D ,5,e | F#,5,e",140),c=r.str2Sheet("\n0: A ,3,qd| B ,3,qd| E ,3,q | A ,3,qd| B ,3,qd| E ,3,q\n0: G ,3,qd| A ,3,qd| E ,3,q | G ,3,qd| A ,3,qd| A ,3,e | B ,3, e\n",140),l=r.str2Sheet("\n0: A ,3,q | A ,3,e | B ,3,q | B ,3,e |E ,3,q | A ,3,q | A ,3,e | B ,3,q | B ,3,e |E ,3,q\n0: G ,3,q | G ,3,e | A ,3,q | A ,3,e |E ,3,q | G ,3,q | G ,3,e | A ,3,q | A ,3,e |A ,3,e | B ,3, e\n",140),u=r.str2Sheet("\n0: B ,4,e | D ,5,e | A ,5,e | G#,5,e | E ,5,e | F#,5,e | D ,5,e | F#,5,e\n1: B ,3,e | D ,4,e | A ,4,e | G#,4,e | E ,4,e | F#,4,e | D ,4,e | F#,4,e\n",140),d=new o({0:new a.GameSound(+u.nreg(),["square","triangle"],[.001,.95],[.001,.95]),1:new a.GameSound(+c.nreg(),["sawtooth"],[.001],[.001]),2:new a.GameSound(+c.nreg(),["square"],[.001],[.001])},{0:r.shift(h,.125,0,.5,0),1:r.shift(h,.125,0,.5,-2),2:r.shift(h,.125,-1,.5,0),3:r.shift(h,.125,-1,.5,-2),4:r.shift(c,.0675,0,.1,0),5:r.shift(l,.0675,1,.1,0),6:r.shift(c,.0675,1,.1,0),7:r.shift(u,.125,1,.5,0),8:r.shift(u,.125,1,.5,-2)},{0:[7,7,8,8,2,2,3,3,7,7,1,1,2,2,3,3],1:[4,5,5,4],2:[6,4,4,5]},!0);e.playMusic=function(){const t=n.audioContext.currentTime;(d.isPlaying&&d.loops||i.state.input.isPressed(e.musicStartKey))&&d.play(t),i.state.input.isPressed(e.musicStopKey)&&d.stop(t)}},function(t,e,s){Object.defineProperty(e,"__esModule",{value:!0});const i=s(12);class n{constructor(t=120,e,s=.000244140625,i=.000244140625){this.tempo=t,this.registers=e,this.gainC=s,this.freqC=i}nreg(){return Object.keys(this.registers).length}duration(){let t=0,e=0;return Object.keys(this.registers).forEach(s=>{this.registers[+s].forEach((i,n)=>{0===n?t=i.duration(this.tempo):(t+=i.duration(this.tempo),n===this.registers[+s].length-1&&t>e&&(e=t))})}),e}gainConst(){return i.SEC_PER_MIN/this.tempo*this.gainC*i.BEATS_PER_MEASURE}freqConst(){return i.SEC_PER_MIN/this.tempo*this.freqC*i.BEATS_PER_MEASURE}}e.Sheet=n,e.str2Note=function(t){return new i.Note(...t.split("|"))},e.str2Sheet=function(t,e=120){const s={};return t.split("\n").forEach(t=>{const e=t.split(":");if(void 0!==e[1]){const t=+e[0],n=e[1].split("|"),r=[];n.forEach(t=>{r.push(new i.Note(...t.split(",")));const e=r[r.length-1];(e.sPct>=1||e.sPct<=0)&&(r[r.length-1]=new i.Note(e.note,e.octave,e.beat,e.vol))}),void 0!==t&&(void 0!==s[t]?s[t].push(...r):s[t]=r)}}),new n(e,s)},e.shift=function(t,e=0,s=0,r=-1,a=0){const o={};return Object.keys(t.registers).forEach(n=>{o[+n]=[],t.registers[+n].forEach((t,h)=>{o[+n][h]=new i.Note(t.note,+t.octave+(t.note!==i.REST?s:0),t.beat,r<0?t.sPct:r,t.note!==i.REST?e:0,t.shift+a)})}),new n(t.tempo,o)}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.REST="-",e.DOT="d",e.TRIPLET="T",e.SHARP="#",e.FLAT="b",e.SEC_PER_MIN=60,e.BEATS_PER_MEASURE=4,e.MILLISEC_TO_SEC=1e3;const s={A:69,B:71,C:60,D:62,E:64,F:65,G:67},i={e:.125,h:.5,q:.25,s:.0625,t:.03125,w:1};e.Note=class{constructor(t=e.REST,s=0,i="q",n=.001,r=1,a=0){this.note=t,this.octave=s,this.beat=i,this.sPct=n,this.vol=r,this.shift=a}freq(){const t=this.note.trim(),i=this.octave;if(t===e.REST)return 0;{const n=t.substr(0,1);let r=void 0!==Object.keys(s).find(t=>n===t)?s[n]:s.C;return t.length>1&&(t.substr(1,1)===e.SHARP?r+=1:t.substr(1,1)===e.FLAT&&(r-=1)),440*Math.pow(2,(r+this.shift-s.A)/12+(i-4))}}beats(){const t=this.beat.trim(),s=t.substr(0,1);let n=!1,r=0;return t.split("").forEach(t=>{n=n||t===e.TRIPLET,r+=t===e.DOT?1:0}),void 0!==Object.keys(i).find(t=>s===t)?i[s]*(2-1/Math.pow(2,r))*(n?2/3:1):0}duration(t){return e.SEC_PER_MIN/t*this.beats()*e.BEATS_PER_MEASURE}}},function(t,e,s){Object.defineProperty(e,"__esModule",{value:!0});const i=s(0);e.Draw=class{constructor(t){this.clear=(()=>{this.canvas.width=this.canvas.width}),this.getCanvasCenter=(()=>new i.Vec2(this.canvas.width/2,this.canvas.height/2)),this.circle=((t,e)=>{this.ellipse(t,e,e)}),this.ellipse=((t,e,s)=>{this.context.beginPath(),this.context.ellipse(t.x,t.y,e,s,0,0,2*Math.PI),this.context.fill()}),this.rect=((t,e,s)=>{this.context.rect(t.x,t.y,e,s)}),this.text=((t,e,s)=>{this.context.fillText(t,e.x,e.y,s)}),this.canvas=t,t.width=800,t.height=600,this.context=t.getContext("2d")}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Input=class{constructor(){this.processEvents=(()=>{this.eventBuffer.forEach(t=>{this.processEvent(t)}),this.eventBuffer=[]}),this.isPressed=((...t)=>t.every(t=>this.pressedKeys.has(t))),this.registerKeyDownHandler=((t,e)=>{this.registerKeyToggleHandler(t,t=>{t&&e()})}),this.registerKeyUpHandler=((t,e)=>{this.registerKeyToggleHandler(t,t=>{t||e()})}),this.registerKeyToggleHandler=((t,e)=>{this.keyEventHandlers.set(t.toUpperCase(),e)}),this.processEvent=(t=>{t.down?this.pressedKeys.add(t.key):this.pressedKeys.delete(t.key),this.keyEventHandlers.has(t.key)&&this.keyEventHandlers.get(t.key)(t.down)}),this.onKeyEvent=(t=>{this.eventBuffer.push(t)}),this.eventBuffer=[],this.pressedKeys=new Set,this.keyEventHandlers=new Map,window.addEventListener("keydown",t=>this.onKeyEvent(new s(t.key.toUpperCase(),!0))),window.addEventListener("keyup",t=>this.onKeyEvent(new s(t.key.toUpperCase(),!1)))}};class s{constructor(t,e){this.key=t,this.down=e,this.key=t,this.down=e}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.aSecondInMs=1e3,e.framesPerSecond=60,e.Timer=class{constructor(){this.callbacks=[],this.update=(t=>{this.callbacks.forEach(e=>e(t))}),this.subscribe=(t=>{this.callbacks.push(t)})}}},function(t,e,s){t.exports=s.p+"681624d98e87f284dccaa2a223371010.png"},function(t,e,s){Object.defineProperty(e,"__esModule",{value:!0});const i=s(2),n=s(1),r=s(0);e.Camera=class{constructor(t=r.Vec2.zero(),e=1,s=0,i=1.01,n=5/Math.PI){this.center=t,this.scale=e,this.rotation=s,this.zoomSpeed=i,this.rotationSpeed=n}apply(){const t=n.state.draw.context;t.resetTransform();const e=n.state.draw.getCanvasCenter();t.translate(e.x,e.y),t.scale(this.scale,this.scale),t.rotate(this.rotation),t.translate(-this.center.x,-this.center.y)}updateZoom(t){this.scale*=Math.pow(this.zoomSpeed,t?1:-1)}updateRotation(t){this.rotation+=i.World.TICK_DELTA*(t?-1:1)*this.rotationSpeed}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.CircleCollidable=class{constructor(t,e){this.position=t,this.radius=e}}},function(t,e,s){Object.defineProperty(e,"__esModule",{value:!0});const i=s(0);class n{constructor(){this.bodies=[]}static interact(t,e){const s=t.physicsAttributes,i=e.physicsAttributes;void 0!==s.damageSupplier&&void 0!==i.damageConsumer&&s.damageSupplier.damageYou(i.damageConsumer)}update(){this.handleCollisions()}addBody(t){this.bodies.push(t)}handleCollisions(){this.bodies.forEach(t=>this.bodies.forEach(e=>{if(t!==e){const s=t.circleCollidable,r=e.circleCollidable,a=s.radius+r.radius,o=a*a;i.Vec2.distanceSquared(s.position,r.position)<=o&&n.interact(t,e)}}))}}e.Physics=n,e.Body=class{constructor(t,e){this.circleCollidable=t,this.physicsAttributes=e}}},function(t,e,s){Object.defineProperty(e,"__esModule",{value:!0});const i=s(7),n=s(8),r=s(3),a=s(4),o=s(0),h=s(1),c=s(9);class l{constructor(){this.isDead=!1;const t=new o.Vec2(200,200),e=new r.Sprite(i.spriteSheet,new a.Rectangle(16,16,48,32));this.entity=new c.Entity(t,o.Vec2.zero(),new n.SpriteDrawable(e,l.playerWidth))}update(){this.controls()}die(){this.isDead=!0}controls(){if(this.isDead)return;const t=o.Vec2.zero(),{isPressed:e}=h.state.input;e("A")&&(t.x-=1),e("D")&&(t.x+=1),e("W")&&(t.y-=1),e("S")&&(t.y+=1),t.lengthSquared()>1&&t.normalize(),t.scaleBy(250),this.entity.velocity.set(t)}}l.playerWidth=32,e.Player=l}]);